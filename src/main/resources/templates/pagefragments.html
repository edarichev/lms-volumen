<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="headerfiles">
<th:block th:fragment="pagehead">
<meta charset="UTF-8" />
<link th:href="@{/static/css/common.css}" rel="stylesheet" />
<script type="text/javascript" th:src="@{/static/script/common.js}"></script>
<script lang="text/javascript">
function changeLanguage(newLang) {
	var url = window.location.href;
	const newLangParam = 'lang=' + newLang;
	const re = /lang=[a-z]+/gm;
	if (re.test(url))
		url = url.replace(re, newLangParam);
	else {
		if (url.includes('?'))
			url += "&" + newLangParam;
		else
			url += '?' + newLangParam;
	}
	window.location.replace(url);
}
</script>
</th:block>
</head>
<body>
	<th:block th:fragment="header">
		<table class="mainframe">
			<tr>
				<td><!-- top of page, logo, login/register-->
					<table class="logobox">
						<tr>
							<td style="text-align:left;vertical-align: middle; width:90%;"><a th:href="@{/}">Volumen LMS</a></td>
							<td style="text-align:right; vertical-align:top;white-space:nowrap;">
							<a href="javascript:void(0);" onclick="return changeLanguage('ru');"><img th:src="@{/static/images/ru.png}" width="24" height="24" /></a>
							<a href="javascript:void(0);" onclick="return changeLanguage('en');"><img th:src="@{/static/images/enus.png}" width="24" height="24" /></a>
							</td>
							<td style="text-align:right; vertical-align:top;white-space:nowrap;">
								<th:block th:if="${user == null}">
	                            <a th:href="@{/login}" th:text="#{login}"></a>
	                            <a th:href="@{/register}" th:text="#{register}"></a>
	                            </th:block>
								<th:block th:if="${user != null}">
								<a th:href="@{/logout}" th:text="#{logout}"></a>
								<a th:href="@{/userpage}" th:text="${user.username}"></a>
								</th:block>
							</td>
						</tr>
					</table>
				</td>
			</tr>
			<tr>
			 <td>
			    <th:block th:if="${categoryPath != null}">
			        <p>
			        <a th:href="@{/category/}" th:text="#{category.all}">ALL CATEGORIES</a> /
			        <span th:each="cp : ${categoryPath}">
			            <a th:href="@{/category/{id}(id=${cp.id})}" th:text="${cp.name}">CATEGORY NAME</a> /
			        </span>
			        </p>
			    </th:block>
			 </td>
			</tr>
			<tr>
				<td style="padding:10px;">
				
    </th:block>
				<!-- content -->
    <th:block th:fragment="footer">
				</td>
			</tr>
            <tr>
                <td>
                <!-- footer -->
                </td>
            </tr>
		</table>
	</th:block>
</body>
</html>